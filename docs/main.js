!function(c){function n(n){for(var e,i,t=n[0],o=n[1],r=n[2],s=0,a=[];s<t.length;s++)l[i=t[s]]&&a.push(l[i][0]),l[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(c[e]=o[e]);for(p&&p(n);a.length;)a.shift()();return f.push.apply(f,r||[]),u()}function u(){for(var n,e=0;e<f.length;e++){for(var i=f[e],t=!0,o=1;o<i.length;o++)0!==l[i[o]]&&(t=!1);t&&(f.splice(e--,1),n=r(r.s=i[0]))}return n}var i={},l={0:0},f=[];function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return c[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=c,r.c=i,r.d=function(n,e,i){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(i,t,function(n){return e[n]}.bind(null,t));return i},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="/pwa-sample/";var e=window.webpackJsonp=window.webpackJsonp||[],t=e.push.bind(e);e.push=n,e=e.slice();for(var o=0;o<e.length;o++)n(e[o]);var p=t;f.push([1,1]),u()}([,function(n,e,i){"use strict";i.r(e),i(2),i(3),i(4),i(5);var a,t=i(0),c=i.n(t),o={};a=0,o.showMessage=function(n,e,i,t){var o="sw-notification-"+a;a++;var r='<div id="'+o+'" class="sw-notification" style="display:none"></div>',s=c()(r);e||(e="Your message"),i||(i="Ok"),t||(t="Dismiss"),s.html('<p class="sw-notification-message">'+e+'</p><button type="button" class="pure-button button-success sw-notification-enable" href="javascript:void(0)">'+i+'</button> &nbsp; <button type="button" class="pure-button button-error sw-notification-close" href="javascript:void(0)">'+t+"</button>"),s.find(".sw-notification-enable").on("click",function(){s.hide(),n(!0)}),s.find(".sw-notification-close").on("click",function(){s.remove(),n(!1)}),c()("body").append(s),s.show()};var r={};!function(n){var i;function e(n){n&&i.waiting.postMessage("skipWaiting")}function t(){o.showMessage(e,"New version of content available!",'<i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;Refresh')}r.serviceWorkerRegCallback=function(n){i=n,console.log("ServiceWorker registration successful with scope: ",i.scope),function(n){function e(){i.installing.addEventListener("statechange",function(){"installed"===this.state&&n()})}if(i){if(i.waiting)return n();i.installing&&e(),i.addEventListener("updatefound",e)}}(t)}}();var s,u={};(s=u).init=function(){c()("#initiate-notify-demo").on("click",function(){o.showMessage(u.requestNotificationPermission,"Let us notify when the job completes!","Allow","Cancel")}),c()("#notify-alert-demo").on("click",function(){setTimeout(u.displayNotification,5e3)})},s.requestNotificationPermission=function(n){n&&Notification.requestPermission(function(n){console.log("Notification permission status:",n)})},s.displayNotification=function(){"granted"==Notification.permission&&navigator.serviceWorker.getRegistration().then(function(n){var e={body:"Your report is ready!",icon:"img/report-icon.png",vibrate:[100,50,100],data:{url:window.location.href,dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"view-report",title:"View your report",icon:"img/view.png"},{action:"close",title:"Close notification",icon:"img/close.png"}]};n.showNotification("PWA-Sample!",e)})};var l,f={};(l=f).init=function(){c()("#initiate-push-demo").on("click",function(){o.showMessage(f.requestNotificationPermission,"Let us notify when news are publised!","Allow","Cancel")}),c()("#push-alert-demo").on("click",f.displayNotification)},l.requestNotificationPermission=function(n){n&&Notification.requestPermission(function(n){console.log("Notification permission status:",n)})},l.displayNotification=function(){navigator.serviceWorker.ready.then(function(n){n.pushManager.getSubscription().then(function(n){null===n?(console.log("Not subscribed to push service!"),o.showMessage(f.subscribeUser,"Let us notify when news are publised!","Allow","Cancel")):(console.log("Subscription object: ",n),c()("#push-channel-detail").html(JSON.stringify(n)))})})},l.subscribeUser=function(){var e={userVisibleOnly:!0,applicationServerKey:function(n){for(var e=(n+"=".repeat((4-n.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(e),t=new Uint8Array(i.length),o=0;o<i.length;++o)t[o]=i.charCodeAt(o);return t}("BK1OYgqZSmIBqwFvx4zGOOfkR7JnF300MIo3gdoK1F-pPgqgIbENRWmdthtqcsFdhnRRzhF1z5LSvH8J9KQ1puA")};navigator.serviceWorker.ready.then(function(n){n.pushManager.subscribe(e).then(function(n){console.log("Endpoint URL: ",n),c()("#push-channel-detail").html(JSON.stringify(n))}).catch(function(n){"denied"===Notification.permission?console.warn("Permission for notifications was denied"):console.error("Unable to subscribe to push",n)})})},c()(function(){var n;!function(){try{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(r.serviceWorkerRegCallback,function(n){console.log("ServiceWorker registration failed: ",n)}),navigator.serviceWorker.addEventListener("controllerchange",function(){n||(n=!0,window.location.reload())}),u.init(),f.init())}catch(n){console.log(n)}}()})},,,function(n,e,i){},function(n,e,i){n.exports=i.p+"offline.html"}]);