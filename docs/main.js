!function(c){function n(n){for(var i,e,t=n[0],o=n[1],r=n[2],s=0,a=[];s<t.length;s++)l[e=t[s]]&&a.push(l[e][0]),l[e]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(c[i]=o[i]);for(p&&p(n);a.length;)a.shift()();return f.push.apply(f,r||[]),u()}function u(){for(var n,i=0;i<f.length;i++){for(var e=f[i],t=!0,o=1;o<e.length;o++)0!==l[e[o]]&&(t=!1);t&&(f.splice(i--,1),n=r(r.s=e[0]))}return n}var e={},l={0:0},f=[];function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return c[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=c,r.c=e,r.d=function(n,i,e){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(i,n){if(1&n&&(i=r(i)),8&n)return i;if(4&n&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&n&&"string"!=typeof i)for(var t in i)r.d(e,t,function(n){return i[n]}.bind(null,t));return e},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="/pwa-sample/";var i=window.webpackJsonp=window.webpackJsonp||[],t=i.push.bind(i);i.push=n,i=i.slice();for(var o=0;o<i.length;o++)n(i[o]);var p=t;f.push([1,1]),u()}([,function(n,i,e){"use strict";e.r(i),e(2),e(3),e(4);var a,t=e(0),c=e.n(t),o={};a=0,o.showMessage=function(n,i,e,t){var o="sw-notification-"+a;a++;var r='<div id="'+o+'" class="sw-notification" style="display:none"></div>',s=c()(r);i||(i="Your message"),e||(e="Ok"),t||(t="Dismiss"),s.html('<p class="sw-notification-message">'+i+'</p><button type="button" class="pure-button button-success sw-notification-enable" href="javascript:void(0)">'+e+'</button> &nbsp; <button type="button" class="pure-button button-error sw-notification-close" href="javascript:void(0)">'+t+"</button>"),s.find(".sw-notification-enable").on("click",function(){s.hide(),n(!0)}),s.find(".sw-notification-close").on("click",function(){s.remove(),n(!1)}),c()("body").append(s),s.show()};var r={};!function(n){var e;function i(n){n&&e.waiting.postMessage("skipWaiting")}function t(){o.showMessage(i,"New version of content available!",'<i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;Refresh')}r.serviceWorkerRegCallback=function(n){e=n,console.log("ServiceWorker registration successful with scope: ",e.scope),function(n){function i(){e.installing.addEventListener("statechange",function(){"installed"===this.state&&n()})}if(e){if(e.waiting)return n();e.installing&&i(),e.addEventListener("updatefound",i)}}(t)}}();var s,u={};(s=u).init=function(){c()("#initiate-notify-demo").on("click",function(){o.showMessage(u.requestNotificationPermission,"Let us notify when the job completes!","Allow","Cancel")}),c()("#notify-alert-demo").on("click",u.displayNotification)},s.requestNotificationPermission=function(n){n&&Notification.requestPermission(function(n){console.log("Notification permission status:",n)})},s.displayNotification=function(){"granted"==Notification.permission&&navigator.serviceWorker.getRegistration().then(function(n){var i={body:"Your report is ready!",icon:"img/report-icon.png",vibrate:[100,50,100],data:{url:window.location.href,dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"view-report",title:"View your report",icon:"img/view.png"},{action:"close",title:"Close notification",icon:"img/close.png"}]};n.showNotification("PWA-Sample!",i)})};var l,f={};(l=f).init=function(){c()("#initiate-push-demo").on("click",function(){o.showMessage(f.requestNotificationPermission,"Let us notify when news are publised!","Allow","Cancel")}),c()("#push-alert-demo").on("click",f.displayNotification)},l.requestNotificationPermission=function(n){n&&Notification.requestPermission(function(n){console.log("Notification permission status:",n)})},l.displayNotification=function(){navigator.serviceWorker.ready.then(function(n){n.pushManager.getSubscription().then(function(n){null===n?(console.log("Not subscribed to push service!"),o.showMessage(f.subscribeUser,"Let us notify when news are publised!","Allow","Cancel")):(console.log("Subscription object: ",n),c()("#push-channel-detail").html(JSON.stringify(n)))})})},l.subscribeUser=function(){navigator.serviceWorker.ready.then(function(n){n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:new Uint8Array("BEl62iUYgUivxIkv69yViEuiBIa-Ib9-SkvMeAtA3LFgDzkrxZJjSgSnfckjBJuBkr3qBUYIHBQFLXYp5Nksh8U")}).then(function(n){console.log("Endpoint URL: ",n.endpoint),c()("#push-channel-detail").html(JSON.stringify(n.endpoint))}).catch(function(n){"denied"===Notification.permission?console.warn("Permission for notifications was denied"):console.error("Unable to subscribe to push",n)})})},c()(function(){var n;!function(){try{"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js").then(r.serviceWorkerRegCallback,function(n){console.log("ServiceWorker registration failed: ",n)}),navigator.serviceWorker.addEventListener("controllerchange",function(){n||(n=!0,window.location.reload())}),u.init(),f.init())}catch(n){console.log(n)}}()})},,,function(n,i,e){}]);